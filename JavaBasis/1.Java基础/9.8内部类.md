[TOC]



# å†…éƒ¨ç±»

##  åŸºæœ¬ä»‹ç»

> ä¸€ä¸ªç±»çš„å†…éƒ¨åµŒå¥—äº†å¦ä¸€ä¸ªç±»ç»“æ„ï¼Œè¢«åµŒå¥—çš„ç±»ç§°ä¹‹ä¸ºå†…éƒ¨ç±»
>
> æœ€å¤§ç‰¹ç‚¹ï¼šå¯ä»¥**ç›´æ¥è®¿é—®**ç§æœ‰å±æ€§ï¼›å¯ä½“ç°ç±»ä¹‹é—´çš„åŒ…å«å…³ç³»



##  è¯­æ³•

```java
class Outer{//å¤–éƒ¨ç±»
    class Inner{//å†…éƒ¨ç±»
        
    }
}
class Other{//å¤–éƒ¨å…¶ä»–ç±»
    
}
```



##  ç§ç±»

â€‹	å®šä¹‰åœ¨å¤–éƒ¨ç±»çš„å±€éƒ¨ä¸Šï¼ˆå¦‚æ–¹æ³•ä½“å†…ï¼‰ï¼š

> 1. å±€éƒ¨å†…éƒ¨ç±»
> 2. åŒ¿åå†…éƒ¨ç±»ï¼ˆæ— ç±»åï¼Œé‡ç‚¹ğŸš©ğŸš©ğŸš©ï¼‰

â€‹	å®šä¹‰åœ¨å¤–éƒ¨ç±»çš„æˆå‘˜ä¸Šï¼ˆå¦‚å±æ€§ä½ç½®ï¼‰ï¼š

> 1. æˆå‘˜å†…éƒ¨ç±»ï¼ˆæ— staticä¿®é¥°ï¼‰
> 2. é™æ€å†…éƒ¨ç±»ï¼ˆæœ‰staticä¿®é¥°ï¼‰



###  å±€éƒ¨å†…éƒ¨ç±»

####  	è¯­æ³•

```java
class Outer{
    private void met(){//åœ¨æ–¹æ³•ä½“å†…
        class Inner{}//å±€éƒ¨å†…éƒ¨ç±»
    }
}
```

####  	ç»†èŠ‚ä¸æ³¨æ„

- ä¸€èˆ¬å®šä¹‰åœ¨å±€éƒ¨ä½ç½®ï¼Œé€šå¸¸åœ¨æ–¹æ³•ä½“ï¼ˆ**æœ‰ç±»å**ï¼‰

- å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜

- ä¸èƒ½åŠ ä¿®é¥°ç¬¦ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨`final`ä¿®é¥°

- ä½œç”¨åŸŸï¼šä»…ä»…åœ¨å®šä¹‰è¯¥å†…éƒ¨ç±»çš„æ–¹æ³•é‡Œæˆ–è€…ä»£ç å—ä¸­

- è®¿é—®ï¼š

  > 1. å±€éƒ¨å†…éƒ¨ç±»---ã€‹è®¿é—®---ã€‹å¤–éƒ¨ç±»æˆå‘˜ã€ç›´æ¥è®¿é—®ã€‘ï¼›
  > 2. å¤–éƒ¨ç±»---ã€‹è®¿é—®---ã€‹å†…éƒ¨ç±»æˆå‘˜ã€**åœ¨ä½œç”¨åŸŸå†…**åˆ›å»ºå¯¹è±¡ï¼Œå†è®¿é—®ã€‘
  > 3. å¤–éƒ¨**å…¶ä»–ç±»**-----ä¸å¯è®¿é—®------å±€éƒ¨å†…éƒ¨ç±»ã€åœ°ä½ä¸å±€éƒ¨å˜é‡ä¸€æ ·ã€‘

- å¤–éƒ¨ç±»ä¸å±€éƒ¨å†…éƒ¨ç±»æœ‰é‡åæˆå‘˜æ—¶ï¼šè®¿é—®éµå¾ªå°±è¿‘åŸåˆ™ï¼›è‹¥æƒ³è®¿é—®å¤–éƒ¨ç±»åŒåæˆå‘˜ã€‚å¯ä½¿ç”¨ï¼š`å¤–éƒ¨ç±»å.this.æˆå‘˜ï¼ˆå±æ€§ã€æ–¹æ³•ï¼‰`

```java
package com.java_learn.oop_advanced.inner_;

public class LocalInner {
    public static void main(String[] args) {
        /**
         * å±€éƒ¨å†…éƒ¨ç±»ä½¿ç”¨
         */
        LocalOuter localOuter = new LocalOuter();
        localOuter.m2();
    }
}
class LocalOuter{
    private int o_n=10;
    private void m1(){
        System.out.println("è¿™é‡Œæ˜¯å¤–éƒ¨ç±»LocalOuterçš„m1æ–¹æ³•");
    }
    public void m2(){
        System.out.println("è¿™é‡Œæ˜¯å¤–éƒ¨ç±»LocalOuterçš„m2æ–¹æ³•");
        class LocalInner{//å±€éƒ¨å†…éƒ¨ç±»ä¸èƒ½ä½¿ç”¨ä¿®é¥°ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨final
            private int i_n=20;
            private int o_n=100;//ä¸å¤–éƒ¨ç±»é‡åå±æ€§ï¼Œè°ƒç”¨éµå¾ªå°±è¿‘åŸåˆ™ï¼›
            // è‹¥æƒ³è®¿é—®å¤–éƒ¨ç±»çš„o_nï¼Œå¯ä½¿ç”¨ å¤–éƒ¨ç±»å.this.å±æ€§å è®¿é—®
            private void i_m(){
                System.out.println("è¿™é‡Œæ˜¯å†…éƒ¨ç±»LocalInnerçš„i_mæ–¹æ³•");
            }
            private void  showi_n(){
                System.out.println("å¤–éƒ¨ç±»å±æ€§o_nï¼š"+o_n);//ğŸš©å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»
                System.out.println("å¤–éƒ¨ç±»å±æ€§o_nï¼š"+LocalOuter.this.o_n);//ğŸš©ä½¿ç”¨å¤–éƒ¨ç±»å.this.å±æ€§åè®¿é—®åŒåå±æ€§
            }
        }
        LocalInner localInner = new LocalInner();//å¤–éƒ¨ç±»è®¿é—®å†…éƒ¨ç±»æˆå‘˜ï¼Œéœ€è¦å®ä¾‹åŒ–
        localInner.showi_n();
    }
}
```



###  åŒ¿åå†…éƒ¨ç±»ğŸš©ğŸš©ğŸš©

####  	è¯­æ³•

```java
class Outer{
    private void met(){//åœ¨æ–¹æ³•ä½“å†…
        new ç±»/æ¥å£(å‚æ•°åˆ—è¡¨){}//åŒ¿åå†…éƒ¨ç±»
    };//æ³¨æ„æœ‰åˆ†å·
}
```

####  	ç»†èŠ‚ä¸æ³¨æ„ï¼ˆğŸš©é‡ç‚¹ç†è§£åº•å±‚å®ç°ï¼‰

- ä¸€èˆ¬å®šä¹‰åœ¨å±€éƒ¨ä½ç½®ï¼Œé€šå¸¸åœ¨æ–¹æ³•ä½“ï¼ˆ**æ²¡æœ‰ç±»å**ï¼‰ï¼›âš¡**åŒæ—¶è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡**
- å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜
- ä¸èƒ½åŠ ä¿®é¥°ç¬¦
- ä½œç”¨åŸŸï¼šä»…ä»…åœ¨å®šä¹‰è¯¥å†…éƒ¨ç±»çš„æ–¹æ³•é‡Œæˆ–è€…ä»£ç å—ä¸­
- å¤–éƒ¨**å…¶ä»–ç±»**-----ä¸å¯è®¿é—®------å±€éƒ¨å†…éƒ¨ç±»ã€åœ°ä½ä¸å±€éƒ¨å˜é‡ä¸€æ ·ã€‘
- å¤–éƒ¨ç±»ä¸å±€éƒ¨å†…éƒ¨ç±»æœ‰é‡åæˆå‘˜æ—¶ï¼šè®¿é—®éµå¾ªå°±è¿‘åŸåˆ™ï¼›è‹¥æƒ³è®¿é—®å¤–éƒ¨ç±»åŒåæˆå‘˜ã€‚å¯ä½¿ç”¨ï¼š`å¤–éƒ¨ç±»å.this.æˆå‘˜ï¼ˆå±æ€§ã€æ–¹æ³•ï¼‰`
- åº•å±‚ï¼šä»¥**å¤–éƒ¨ç±»å$1** æ¥å‘½ååŒ¿åå†…éƒ¨ç±»
- jdkåˆ›å»ºäº†åŒ¿åç±»åï¼Œç«‹å³newäº†ä¸€ä¸ª**å¤–éƒ¨ç±»å$1**çš„**å®ä¾‹**ï¼Œèµ‹ç»™å¼•ç”¨å˜é‡
- åŒ¿åå†…éƒ¨ç±»æ‰§è¡Œä¸€æ¬¡èµ‹ç»™å¼•ç”¨å˜é‡åä¸å¯å†ä½¿ç”¨ï¼Œè¯¥ç±»å®ä¾‹çš„å¯¹è±¡å¯ç”¨
- è¿è¡Œç±»å‹ï¼šåŒ¿åå†…éƒ¨ç±»çš„åº•å±‚åˆ†é…ç±»åï¼š`å¤–éƒ¨ç±»$åŒ¿åç±»åºå·`

```java
package com.java_learn.oop_advanced.inner_;
public class AnonymousInner {
    public static void main(String[] args) {
        /**
         * åŒ¿åå†…éƒ¨ç±»ä½¿ç”¨
         */
        A_Outer a_outer = new A_Outer();
        a_outer.A_met();//åŒ¿åå†…éƒ¨ç±»å®ç°
    }
}
class A_Outer {
    //ğŸš©éœ€æ±‚ï¼šæœ‰å¤šä¸ªç±»å®ç°IAæ¥å£ï¼Œâš¡ä½†æ˜¯æ¯ä¸ªç±»åªä½¿ç”¨ä¸€æ¬¡

    //ä¼ ç»Ÿæ–¹æ³•ï¼šåˆ›å»ºå¤šä¸ªç±»ï¼Œå®ç°showæ–¹æ³•ï¼›è¿™é‡Œåˆ›å»ºäº†ç±»Cat
    //é—®é¢˜ï¼šä»£ç å¯ç”¨æ€§ä¸é«˜ï¼Œç¹ç
    public void t_met() {
        Cat cat = new Cat();
        cat.show();
    }

    //åŒ¿åå†…éƒ¨ç±»å®ç°ï¼šç®€åŒ–å¼€å‘
    public void A_met() {
        /*âš¡âš¡âš¡
        cat çš„ç¼–è¯‘ç±»å‹ï¼šIA
        cat çš„è¿è¡Œç±»å‹ï¼šåŒ¿åå†…éƒ¨ç±»
        *****è§£æè¿è¡Œç±»å‹******
        åŒ¿åå†…éƒ¨ç±»åº•å±‚ï¼š
        class XXXX implements IA{//æ­¤XXXXå³ä¸ºç³»ç»Ÿåˆ†é…ç±»åï¼Œåªæœ‰è°ƒç”¨getClassæ–¹æ³•å¯çœ‹ï¼›å³ä¸ºã€‹ã€‹(å¤–éƒ¨ç±»$1)
        public void show() {
                System.out.println("åŒ¿åå†…éƒ¨ç±»å®ç°äº†showæ–¹æ³•");
            }
        }
         */
        //åŸºäºæ¥å£ çš„åŒ¿åå†…éƒ¨ç±»
        IA cat = new IA() {
            public void show() {
                System.out.println("åŒ¿åå†…éƒ¨ç±»å®ç°äº†showæ–¹æ³•");
            }
        };
        cat.show();
        System.out.println("åŒ¿åå†…éƒ¨ç±»çš„ç±»åï¼š"+cat.getClass());

        //åŸºäºç±» çš„åŒ¿åå†…éƒ¨ç±»
        /*âš¡âš¡âš¡
        åº•å±‚å®ç°ï¼š
        class xxx extends  Bud{};  xxxä¸ºç³»ç»Ÿåˆ†é…ç±»å---ã€‹A_Outer$2
        è¿è¡Œç±»å‹ï¼šA_Outer$2
         */
        Bud bud = new Bud(){
			//å› ä¸ºåº•å±‚å®ç°ç»§æ‰¿ï¼Œè¿™é‡Œå¯ä¸é‡å†™ï¼Œç»§æ‰¿çˆ¶ç±»b_metæ–¹æ³•
        };
        bud.b_met();
        System.out.println("åŸºäºç±»å®ç°çš„åŒ¿åå†…éƒ¨ç±»åï¼š"+bud.getClass());
    }
}
class Bud{
    public void b_met(){
        System.out.println("è¿™æ˜¯Budç±»çš„b_metæ–¹æ³•");
    }
}
interface IA {
    void show();
}
//ä¼ ç»Ÿå®ç°æ–¹æ³•åˆ›å»ºCat
class Cat implements IA {
    @Override
    public void show() {
        System.out.println("è¿™é‡Œå°çŒ«å®ç°äº†showæ–¹æ³•");
    }
}
```

- åŒ¿åå†…éƒ¨ç±»åšå‚æ•°âš¡âš¡âš¡

```java
package com.java_learn.oop_advanced.inner_;

public class Exercise {
    public static void main(String[] args) {
        met(
                new Nu() {
                    @Override
                    public void show() {
                        System.out.println("è¿™é‡Œé€šè¿‡åŒ¿åå†…éƒ¨ç±»ä½œå‚æ•°");
                    }
                }
        );
    }
    public static void met(Nu n){
        n.show();
    }
}
interface Nu{
   default void show(){
       System.out.println("è¿™é‡Œæ˜¯æ¥å£çš„æ–¹æ³•");
   };
}

```

####  	å®è·µ

```java
package com.java_learn.oop_advanced.inner_;

public class Exercise01 {
    public static void main(String[] args) {
        Cellphone.alarmclock(
                new Bell() {
                    @Override
                    public void ring() {
                        System.out.println("èµ·åºŠäº†");
                    }
                }
        );
    }
}
interface Bell{
    void ring();
}
class Cellphone{
    public static void alarmclock( Bell b){
        b.ring();
    }
}
```



###  æˆå‘˜å†…éƒ¨ç±»

####  è¯­æ³•

```java
class Outer{
	private int a=12;
    class Inner{
  //ä¸æˆå‘˜åœ°ä½ä¸€è‡´
    }
}
```

####  ç»†èŠ‚ä¸æ³¨æ„

- å¯æ·»åŠ ä»»æ„ä¿®é¥°ç¬¦ï¼ˆåœ°ä½å’Œå±æ€§ä¸€æ ·ï¼‰
- å†…éƒ¨ç±»---ã€‹è®¿é—®---ã€‹å¤–éƒ¨ç±»æˆå‘˜ã€ç›´æ¥è®¿é—®ã€‘
- å¤–éƒ¨ç±»----ã€‹è®¿é—®---ã€‹æˆå‘˜å†…éƒ¨ç±»ã€åœ¨å¤–éƒ¨ç±»æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼Œå†è°ƒç”¨ã€‘
- å¤–éƒ¨å…¶ä»–ç±»---ã€‹è®¿é—®---ã€‹æˆå‘˜å†…éƒ¨ç±»

```java
package com.java_learn.oop_advanced.inner_;

public class MemberInner {
    public static void main(String[] args) {
        /**
         * æˆå‘˜å†…éƒ¨ç±»
         */
        M_Outer m_outer = new M_Outer();
        m_outer.show();
        //å¤–éƒ¨å…¶ä»–ç±»è®¿é—®æˆå‘˜å†…éƒ¨ç±»
        //æ–¹æ³•1
        M_Outer.M_Inner m_inner = m_outer.new M_Inner();
        m_inner.M_met();
//        æ–¹æ³•2ï¼šåˆ›å»ºä¸€ä¸ªæ–¹æ³•è¿”å›æˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡
        m_outer.innerInstance().M_met();

    }
}
class M_Outer{
    private int age=12;
    class M_Inner{
        private  int a=21;
        public void M_met(){
            System.out.println("è¿™é‡Œæ˜¯æˆå‘˜å†…éƒ¨ç±»çš„æ–¹æ³•");
        }
    }
    public  void show(){//åœ¨å¤–éƒ¨ç±»æ–¹æ³•ä¸­å®ä¾‹åŒ–å†è°ƒç”¨
        M_Inner m_inner = new M_Inner();
        m_inner.M_met();
    }
    public M_Inner innerInstance(){
        return new M_Inner();
    }
}
```





###  é™æ€å†…éƒ¨ç±»

####  è¯­æ³•

```java
class Outer{
    private int a=12;
    static class Inner{
        
    }
}
```

####  ç»†èŠ‚ä¸æ³¨æ„

- å¯ä»¥è®¿é—®å¤–éƒ¨ç±»æ‰€æœ‰é™æ€æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰ï¼›ä½†æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€æˆå‘˜
- å¯ä»¥æœ‰ä»»æ„ä¿®é¥°ç¬¦
- å¤–éƒ¨ç±»ä¸å±€éƒ¨å†…éƒ¨ç±»æœ‰é‡åæˆå‘˜æ—¶ï¼šè®¿é—®éµå¾ªå°±è¿‘åŸåˆ™ï¼›è‹¥æƒ³è®¿é—®å¤–éƒ¨ç±»åŒåæˆå‘˜ã€‚å¯ä½¿ç”¨ï¼š`å¤–éƒ¨ç±»å.æˆå‘˜ï¼ˆå±æ€§ã€æ–¹æ³•ï¼‰`ï¼ˆæ³¨æ„æ²¡æœ‰thisã€‚å› ä¸ºæ­¤æ—¶ä¸ºé™æ€å†…éƒ¨ç±»ï¼‰

```java
package com.java_learn.oop_advanced.inner_;

public class StaticInner {
    public static void main(String[] args) {
        S_Outer s_outer = new S_Outer();
        //æ–¹æ³•1
        s_outer.innerInstance().S_met();
        //æ–¹æ³•2
        S_Outer.S_Inner s_inner = new S_Outer.S_Inner();
        s_inner.S_met();

    }
}
class S_Outer{
    private static int a=10;
    private int b=20;
    static class S_Inner{
        private int a=30;
        public void S_met(){
            System.out.println("è¿™æ˜¯é™æ€å†…éƒ¨ç±»çš„æ–¹æ³•");
        }
    }
    public S_Inner innerInstance(){
        return new S_Inner();
    }
}
```

