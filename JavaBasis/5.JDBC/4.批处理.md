##  æ‰¹å¤„ç†

> 1. Javaæ‰¹å¤„ç†æœºåˆ¶å…è®¸å¤šæ¡è¯­å¥ä¸€æ¬¡æ€§æäº¤ç»™æ•°æ®åº“ï¼›
> 2. å¸¸ç”¨æ–¹æ³•ï¼š
>    - `addBatch()`ï¼šæ·»åŠ æ‰¹å¤„ç†sqlè¯­å¥
>    - `executeBatch()`ï¼šæ‰§è¡Œæ‰¹å¤„ç†è¯­å¥
>    - `clearBatch()`ï¼šæ¸…ç©ºæ‰¹å¤„ç†åŒ…
> 3. é€šå¸¸ä¸PreparedStatementæ­é…ï¼Œæ—¢å¯å‡å°‘ç¼–è¯‘æ¬¡æ•°ï¼Œåˆå¯ä»¥å‡å°‘è¿è¡Œæ¬¡æ•°ï¼›
> 4. ğŸš©è‹¥æƒ³ä½¿ç”¨æ‰¹å¤„ç†ï¼Œåœ¨urlä¸­æ·»åŠ ?rewriteBatchedStatements=true

```java
    public static void main(String[] args) throws Exception {

        Connection connection = JDBCUtils.getConnection();
        String sql="insert into l827(name,pass) values(?,?)";
        PreparedStatement preparedStatement = connection.prepareStatement(sql);
        System.out.println("å¼€å§‹æ‰§è¡Œ");
        long l = System.currentTimeMillis();
        for (int i = 0; i < 5000; i++) {
            preparedStatement.setString(1,""+i);
            preparedStatement.setString(2,"111"+i);

            //ä¼ ç»Ÿæ–¹å¼
//            preparedStatement.executeUpdate();
            //1.å°†è¯­å¥åŠ å…¥æ‰¹å¤„ç†åŒ…
            preparedStatement.addBatch();
            //å½“åŠ å…¥100æ¡æ•°æ®å¼€å§‹æ‰¹å¤„ç†
            if((i+1)%1000==0){
                //2.æ‰§è¡Œæ‰¹å¤„ç†
                preparedStatement.executeBatch();
                //3.æ¸…ç©ºæ‰¹å¤„ç†åŒ…
                preparedStatement.clearBatch();
            }
        }
        long l1 = System.currentTimeMillis();
        System.out.println("æ‰¹å¤„ç†è€—æ—¶ï¼š"+(l1-l));
        JDBCUtils.close(null,preparedStatement,connection);

    }
```

