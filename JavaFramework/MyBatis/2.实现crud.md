###  mapperæ¥å£

```java
package com.loy.mybatis.mapper;

import com.loy.mybatis.pojo.User;

import java.util.List;

public interface UserMapper {
    /**
     * æ·»åŠ ç”¨æˆ·
     * @return
     */
    int insertUser();

    /**
     * æ›´æ–°ç”¨æˆ·ä¿¡æ¯
     */
    int updateUser();

    /**
     * åˆ é™¤ç”¨æˆ·
     * @return
     */
    int deleteUser();

    /**
     * æŸ¥è¯¢ç”¨æˆ·
     */
    User getUserById();

    /**
     * æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
     */
    List<User> userList();
}

```

###  mapperæ˜ å°„æ–‡ä»¶

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.loy.mybatis.mapper.UserMapper">
    <insert id="insertUser">
        insert into m_user
        values (null, "admin", "123")
    </insert>
<!--    void updateUser();-->
    <update id="updateUser">
        update m_user set name="å¼ ä¸‰" where id>1
    </update>

<!--    User getUserById();
æŸ¥è¯¢åŠŸèƒ½æ ‡ç­¾å¿…é¡»è®¾ç½®resultTypeæˆ–resultMap
resultTypeï¼šè®¾ç½®é»˜è®¤æ˜ å°„ï¼ˆå±æ€§åå¯¹åº”è¡¨å­—æ®µï¼‰ğŸ“Œ
resultMapï¼šè®¾ç½®è‡ªå®šä¹‰æ˜ å°„ï¼ˆå±æ€§åå¯ä»¥ä¸è¡¨å­—æ®µä¸ä¸€æ ·ï¼‰
-->
    <select id="getUserById" resultType="com.loy.mybatis.pojo.User">
        select * from m_user where id=4;
    </select>

<!--    List<User> userList();-->
    <select id="userList"  resultType="com.loy.mybatis.pojo.User">
        select * from m_user
    </select>
</mapper>

```



###  æµ‹è¯•åŠŸèƒ½

```java
package com.loy.mybatis.test;

import com.loy.mybatis.mapper.UserMapper;
import com.loy.mybatis.pojo.User;
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import org.junit.Test;

import java.io.IOException;
import java.io.InputStream;
import java.util.List;


public class MyBatisTest {

    public   <T> T basicTestMyBatis(Class<T> tClass ){
//        åŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶
        InputStream resourceAsStream = null;
        try {
            resourceAsStream = Resources.getResourceAsStream("mybatis-config.xml");
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
//        è·å–SqlSessionFactoryBuilder
        SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
//        è·å–SqlSessionFactory
        SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(resourceAsStream);
//        è·å–SqlSession,trueè‡ªåŠ¨æäº¤äº‹åŠ¡
        SqlSession sqlSession = sqlSessionFactory.openSession(true);
//        è·å–mapperæ¥å£å¯¹è±¡
        T mapper = sqlSession.getMapper(tClass);
        return mapper;
    }

    @Test
    public void testUserMapper(){
        UserMapper userMapper = basicTestMyBatis(UserMapper.class);
//        userMapper.insertUser();
//        userMapper.updateUser();
        User user = userMapper.getUserById();
        System.out.println(user);
        List<User> users = userMapper.userList();
        System.out.println(users);
    }
}

```

