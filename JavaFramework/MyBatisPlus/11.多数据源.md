##  å¤šæ•°æ®æº

é€‚ç”¨åœºæ™¯ï¼šå¤šåº“ï¼Œè¯»å†™åˆ†ç¦»ï¼Œä¸€ä¸»å¤šä»ï¼Œæ··åˆæ¨¡å¼ç­‰

###  å¼•å…¥ä¾èµ–

```xml
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>dynamic-datasource-spring-boot-starter</artifactId>
    <version>3.6.1</version>
</dependency>
```

###  é…ç½®æ–‡ä»¶

application.yml

```yaml
spring:
  #é…ç½®æ•°æ®æº
  datasource:
    dynamic:
      #è®¾ç½®é»˜è®¤æ•°æ®æºæˆ–æ•°æ®æºç»„
      primary: master
      strict: false
      datasource:
        master:
          url: jdbc:mysql://localhost:3306/mybatisplusdb?serverTimezone=GMT%2B8&characterEncoding=utf-8
          driver-class-name: com.mysql.cj.jdbc.Driver
          username: root
          password:
        slave_1:
          url: jdbc:mysql://localhost:3306/mybatisdb?serverTimezone=GMT%2B8&characterEncoding=utf-8
          driver-class-name: com.mysql.cj.jdbc.Driver
          username: root
          password: 

```

###  å¼€å¯æ˜ å°„æ‰«æ

é¡¹ç›®å¯åŠ¨æ–‡ä»¶ï¼ˆåˆå§‹åŒ–æ—¶å«æœ‰mainæ–¹æ³•çš„æ–‡ä»¶ï¼‰

```java
@MapperScan("com.loy.mybatisplus.mapper")
```



###  åœ¨serviceå±‚æŒ‡å®šä½¿ç”¨çš„æ•°æ®æº

`@DS()`ä¹Ÿå¯ä½œç”¨æ–¹æ³•ä¸Šï¼Œæ­¤æ—¶å°±å¯ä»¥å®ç°è¯»å†™åˆ†ç¦»

```java
@Service
@DS("slave_1")//å³ä¸ºé…ç½®æ–‡ä»¶å¯¹åº”æ•°æ®æºåç§°ï¼Œå³è¡¨æ‰€å¯¹åº”çš„åº“æ˜¯å“ªä¸€ä¸ªğŸ“Œ
public class EmployeeServiceImpl extends ServiceImpl<EmployeeMapper, Employee> implements IEmployeeService {
}
```



###  æµ‹è¯•

```java
public void testUser(){

        User user = userService.getById(775946262);
        Employee employee = employeeService.getById(12);
        System.out.println(user);
        System.out.println(employee);
    }
```

