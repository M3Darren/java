##  @RequestMapping

> SpringMVCæ¥æ”¶åˆ°è¯·æ±‚å°±ä¼šå°†æ˜ å°„å…³ç³»ä¸­å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•æ¥å¤„ç†

###  æ³¨è§£ä½ç½®

1. ä½¿ç”¨åœ¨ç±»ä¸Šï¼šè®¾ç½®æ˜ å°„è¯·æ±‚è·¯å¾„çš„åˆå§‹ä¿¡æ¯
2. ä½¿ç”¨åœ¨æ–¹æ³•ä¸Šï¼šè®¾ç½®æ˜ å°„è¯·æ±‚è·¯å¾„çš„å…·ä½“ä¿¡æ¯

---

###  è¯·æ±‚åŒ¹é…æ–¹å¼

`    @RequestMapping(value = "/target",method = RequestMethod.GET,params = {"username"},headers = {"Host=localhost:8181"})`

æ³¨ï¼šå½“è¯·æ±‚æ²¡æœ‰åŒ¹é…çš„æ–¹å¼ï¼Œè¿”å›405ä¸æ”¯æŒè¯¥è¯·æ±‚æ–¹å¼ï¼›è‹¥è¯·æ±‚å¤´ä¸æ»¡è¶³è¿”å›404

- `value`ï¼ˆå¿…é€‰é¡¹ï¼‰ï¼šæ ¹æ®valueå€¼åŒ¹é…è·¯å¾„ï¼Œæ”¯æŒæ•°ç»„å½¢å¼ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªå€¼æ»¡è¶³å…¶ä¸€å³å¯

  #####  æ”¯æŒanté£æ ¼è·¯å¾„ï¼š

  1. ï¼Ÿï¼šè¡¨ç¤ºä»»æ„å•ä¸ªå­—ç¬¦ï¼ˆ  `/t?a`åŒ¹é…è·¯å¾„ï¼š/teaã€/t_aï¼Œä¸å¯åŒ¹é…ï¼Ÿã€/ï¼‰
  2. *ï¼šè¡¨ç¤º0æˆ–å¤šä¸ªå­—ç¬¦
  3. **ï¼šè¡¨ç¤ºä»»æ„çš„ä¸€å±‚æˆ–å¤šå±‚ç›®å½•ï¼ˆæ³¨ï¼šä½¿ç”¨ * * æ—¶å‰åä¸å¯æœ‰å­—ç¬¦åªèƒ½ä½¿ç”¨ /* */antï¼‰

  ##### æ”¯æŒè·¯å¾„å ä½ç¬¦ï¼šğŸ“Œ

  â€‹     åŸå§‹æ–¹å¼ï¼š/user?id=1ï¼›

  â€‹	  restfulï¼š/path/1

  ```java
  @RequestMapping(value = "/path/{id}/{username}")
      public String testPath(@PathVariable("id") String id,@PathVariable("username") String username){
          System.out.printf(id);
          return "target";
      }
  ```

- `method`ï¼ˆå¯é€‰é¡¹ï¼‰ï¼šæ ¹æ®è¯·æ±‚æ–¹å¼åŒ¹é…è¯·æ±‚ï¼Œæ”¯æŒæ•°ç»„å½¢å¼ï¼Œå¯æœ‰å¤šä¸ªè¯·æ±‚æ–¹å¼æ»¡è¶³å…¶ä¸€å³å¯

- `params`ï¼ˆå¯é€‰é¡¹ï¼‰ï¼šæ ¹æ®è¯·æ±‚æºå¸¦å‚æ•°åŒ¹é…ï¼Œæ”¯æŒæ•°ç»„å½¢å¼ï¼Œå¤šä¸ªå‚æ•°å¿…é¡»å…¨éƒ¨æ»¡è¶³

- `headers`ï¼ˆå¯é€‰é¡¹ï¼‰ï¼šæ ¹æ®è¯·æ±‚å¤´æ–¹å¼åŒ¹é…è¯·æ±‚

---

###  æ´¾ç”Ÿæ³¨è§£

`@GetMapping`ï¼šå¤„ç†getè¯·æ±‚

`@PostMapping`ï¼šå¤„ç†postè¯·æ±‚

`@PutMapping`ï¼šå¤„ç†putè¯·æ±‚

`@DeleteMapping`ï¼šå¤„ç†deleteè¯·æ±‚

æ³¨ï¼šç›®å‰æµè§ˆå™¨formè¡¨å•åªæ”¯æŒgetã€postè¯·æ±‚ï¼›å¦‚æœä½¿ç”¨äº†putæˆ–deleteé»˜è®¤ä½¿ç”¨getæäº¤è¡¨å•ã€‚å¦‚æœæƒ³è¦å‘é€putã€deleteè¯·æ±‚éœ€é€šè¿‡ springæä¾›çš„`HiddenHttpMethodFilter`ï¼Œåœ¨Restful APIä¸­æåˆ°

---



###  è·å–è¯·æ±‚å‚æ•°

#####				1.servlet apiè·å–ï¼ˆæ¡†æ¶å·²å°è£…åŸºæœ¬ä¸ç”¨ï¼‰

```java
@RequestMapping("/target")
    public String servletTarget(HttpServletRequest request){
        String username = request.getParameter("username");
        System.out.printf(username);
        return "target";
    }
```

#####				2.æ§åˆ¶å™¨å½¢å‚è·å–

æ³¨ï¼šå½¢å‚åå­—ä¸è¡¨å•ä¸€è‡´

```java
@RequestMapping("/targetController")
public String controllerTarget(String username,String[] hobby){
    //å¤šä¸ªåŒåå‚æ•°ä½¿ç”¨æ•°ç»„å­˜å–
    System.out.printf(username,hobby);
    return "target";
}
```

#####				3.æ³¨è§£è·å–

- @RequestParamï¼ˆæ–¹å¼2å³ä¸ºè¯¥æ–¹å¼è·å–å½¢å‚ï¼‰
- @RequestHeader
- @CookieValue

```java
 @RequestMapping("/targetReqparm")
    public String reqparmTarget(
        @RequestParam(value = "username",required = false,defaultValue = "hehe") String username 
    	@RequestHeader("Host") String host 
    ){
/**
 * @RequestParamï¼Œ@RequestHeaderï¼Œ@CookieValue
 * value æŒ‡å®šè¯·æ±‚å‚æ•°ä¸ºvalueå€¼ä¸€è‡´
 * required é»˜è®¤trueï¼Œè¯·æ±‚å¿…é¡»ä¼ å‚ä¸ºvalueçš„å€¼ï¼Œå¦åˆ™æŠ¥é”™404
 * defaultValue å¦‚æœæ²¡æœ‰ä¼ é€’valueçš„å€¼çš„è¯·æ±‚å‚æ•°ï¼Œä½¿ç”¨é»˜è®¤å€¼èµ‹å€¼ç»™å½¢å‚
 */
        System.out.printf(username);
        return "target";
    }
```

#####  4.é€šè¿‡pojoè·å–å‚æ•°

æ³¨ï¼šè¯·æ±‚å‚æ•°å¿…é¡»ä¸å®ä½“ç±»å±æ€§åä¸€è‡´

```java
@RequestMapping("/targetPojo")
    public String pojoTarget(User user){
        System.out.printf(user.toString());
        return "target";
    }
```

