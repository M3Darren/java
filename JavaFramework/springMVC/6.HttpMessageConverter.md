##  HttpMessageConverter

> æè¿°ï¼šæŠ¥æ–‡ä¿¡æ¯è½¬æ¢å™¨ï¼Œå°†è¯·æ±‚æŠ¥æ–‡è½¬æ¢ä¸ºjavaå¯¹è±¡ã€æˆ–å°†javaå¯¹è±¡è½¬æ¢ä¸ºå“åº”æŠ¥æ–‡ï¼›
>
> æä¾›ï¼šï¼ˆä¸¤ä¸ªæ³¨è§£ï¼‰@RequestBodyã€@ResponseBodyï¼›ï¼ˆä¸¤ä¸ªç±»å‹ï¼‰RequestEntityã€ResponseEntity

---

###  @RequestBody

å¯ä»¥è·å–è¯·æ±‚ä½“ï¼Œå¹¶èµ‹å€¼ç»™æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚

```java
@RequestMapping("/reqBody")
public String reqBody(@RequestBody String reqBody){
    System.out.println(reqBody);
    return "request"
}
//è¾“å‡ºï¼šusername=admin&passwd=123
```

###  RequestEntity

å°è£…æ•´ä¸ªè¯·æ±‚æŠ¥æ–‡ï¼ˆè¯·æ±‚å¤´ã€è¯·æ±‚ä½“ï¼‰ï¼Œå¹¶èµ‹å€¼ç»™æ§åˆ¶å™¨å½¢å‚ï¼›ä½¿ç”¨getHeaders()è·å–è¯·æ±‚å¤´ï¼ŒgetBody()è·å–è¯·æ±‚ä½“

```java
@RequestMapping("/reqEntity")
public String reqEntity(RequestEntity<String> reqEntity){
    System.out.println(reqEntity);
    return "request"
}
```

---

###  @ResponseBody

```java
@RequestMapping("/respBody")
@ResponseBody
public String respBody(){
    return "request"//å°†å­—ç¬¦ä¸²è¿”å›ï¼Œå¦‚æœæ²¡æœ‰@ResponseBodyåˆ™æ˜¯è¿”å›é¡µé¢
}
```

###  ResponseEntity

æè¿°ï¼šç”¨äºæ§åˆ¶å™¨æ–¹æ³•è¿”å›å€¼ç±»å‹ï¼Œå³ä¸ºè¿”å›æµè§ˆå™¨çš„å“åº”æŠ¥æ–‡

----

###  @RestControllerï¼ˆé‡è¦ğŸ“Œï¼‰

æè¿°ï¼šå¤åˆæ³¨è§£ï¼Œä½œç”¨äºæ§åˆ¶å™¨ç±»ä¸Šï¼›ç›¸å½“äº@Controllerï¼Œ`åŒºåˆ«æ˜¯@RestControllerä¼šä¸ºæ¯ä¸€ä¸ªæ–¹æ³•åŠ ä¸Š@ResponseBodyæ³¨è§£`

æ³¨ï¼šå½“ä½¿ç”¨æ­¤æ³¨è§£åï¼Œæ‰€æœ‰returnå°†æ˜¯è¿”å›å“åº”æ•°æ®ï¼Œè€Œä¸æ˜¯è¿”å›å“åº”é¡µé¢

---

####  å¤„ç†json

æ­¥éª¤ï¼š

1. å¯¼å…¥gsonä¾èµ–

2. åœ¨Springonfig.xmlé…ç½®å¼€å¯æ³¨è§£é©±åŠ¨ï¼š`<mvc:annotation-driven />`

3. åœ¨å¤„ç†å™¨æ–¹æ³•ä¸Šä½¿ç”¨@ResponseBodyæ ‡è¯†

4. å°†javaå¯¹è±¡ç›´æ¥ä½œä¸ºè¿”å›å€¼ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºjsonå­—ç¬¦ä¸²

   ```java
    @RequestMapping("/respBody")
       @ResponseBody
       public User respBody(){
           return new User(1,"zz","shag","1223321");
       }
   ```

5. ä½¿ç”¨ajaxå¤„ç†å“åº”æ•°æ®







